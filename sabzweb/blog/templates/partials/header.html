{% load static %}

<header class="border-bottom bg-dark text-white py-2">
  <nav class="container d-flex justify-content-between align-items-center flex-wrap">

    <!-- لوگو و عنوان برند -->
    <div class="d-flex align-items-center gap-3">
      <a href="{% url 'blog:index' %}" class="d-flex align-items-center text-white text-decoration-none">
        <img src="{% static 'images/icon/blog-logo.png' %}" alt="logo" height="36" class="me-2">
        <div class="d-flex flex-column">
          <span class="fw-bold fs-5">وبلاگ برنامه‌نویسی</span>
          <small class="text-light" style="font-size: 0.8rem;">با ما در دنیای کد بدرخشید</small>
        </div>
      </a>
    </div>

    <!-- منو و آیتم‌های بالایی -->
    <div class="d-flex align-items-center gap-3 flex-wrap">

      <!-- منو dropdown -->
      <div class="dropdown">
        <a class="btn btn-sm btn-outline-light dropdown-toggle" href="#" id="homeMenu" data-bs-toggle="dropdown">
          صفحات
        </a>
        <ul class="dropdown-menu dropdown-menu-dark">
          <li><a class="dropdown-item" href="{% url 'blog:index' %}">صفحه اصلی</a></li>
          <li><a class="dropdown-item" href="{% url 'blog:profile' %}">داشبورد</a></li>
          <li><a class="dropdown-item" href="{% url 'blog:post_list' %}">لیست مقالات</a></li>
        </ul>
      </div>

      <!-- جستجو -->
      <div class="dropdown">
        <a href="#" class="btn btn-sm btn-outline-light" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-search"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-end p-2">
          <form method="get" action="{% url 'blog:post_search' %}">
            <div class="input-group">
              <input name="query" type="search" class="form-control" placeholder="جستجو">
              <button type="submit" class="btn btn-primary btn-sm">جستجو</button>
            </div>
          </form>
        </div>
      </div>

      <!-- سوئیچر تم -->
      <div class="dropdown">
        <button class="btn btn-sm btn-outline-light dropdown-toggle" id="bd-theme" data-bs-toggle="dropdown">
          <i class="bi bi-circle-half"></i>
        </button>
        <ul class="dropdown-menu dropdown-menu-dark">
          <li><button class="dropdown-item" type="button" data-bs-theme-value="light">روشن</button></li>
          <li><button class="dropdown-item" type="button" data-bs-theme-value="dark">تیره</button></li>
          <li><button class="dropdown-item" type="button" data-bs-theme-value="auto">خودکار</button></li>
        </ul>
      </div>

      <!-- کاربر یا ورود/ثبت‌نام -->
      {% if request.user.is_authenticated %}
        <a href="{% url 'blog:profile' %}" class="btn btn-sm btn-outline-success">
          {{ request.user.first_name|default:request.user.username }}
        </a>
      {% else %}
        <a href="{% url 'blog:login' %}" class="btn btn-sm btn-outline-light">ورود</a>
        <a href="{% url 'blog:register' %}" class="btn btn-sm btn-outline-light">ثبت‌نام</a>
      {% endif %}

    </div>

  </nav>
</header>

